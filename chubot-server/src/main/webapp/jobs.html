<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <div id="header"></div>
    <title>Jobs of chubot</title>
</head>
<!--The ng-app attribute tells Angular which parts of the page it should manage.-->
<!--we told our ng-app element about the name of our module, myApp.-->
<body>
<div class="container-fluid">
    <div id="nav"></div>
    <div ng-app="myApp">
        <!--By including a controller in the div tag, I’m declaring that this controller will manage everything between <div> and </div>.-->
        <!--ng-controller 指令定义了应用程序控制器。-->
        <!--控制器是 JavaScript 对象，由标准的 JavaScript 对象的构造函数创建。-->
        <!--控制器的 $scope 是控制器所指向的应用程序 HTML 元素。-->
        <div ng-controller="JobsController">
            <!--The ng-model definition creates data binding between the input field and the value of yourname.-->
            <h1>提交新的爬虫任务</h1>
            <div class="row">
                <div class="col-lg-12">
                    <div class="input-group input-group-lg">
                        <span class="input-group-addon" id="sizing-addon1"></span>
                        <input id="inputNewJob"  type="text" class="form-control"  ng-model="newJob" placeholder="Please input a job to commit...">
                        <button id="commitJob" type="button" ng-click="commitJob($event, newJob)">commit</button>
                    </div>
                </div>
            </div>
            <br><br>

            <h1>历史任务管理</h1>
            <div class="panel panel-primary table-responsive">
                <div class="panel-heading">
                    <h3 class="panel-title">历史任务</h3>
                </div>
                <div class="panel-body col-lg-2">
                    <button id="refreshHistory" type="button" ng-click="refreshHistory($event, newJob)">
                        <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> Refresh
                    </button>
                </div>
                <!--keycode 9 is Tab, keycode 13 is Enter-->
                <table class="table table-striped table-hover table-condensed">
                    <thead>
                    <tr>
                        <th class="col-lg-1">SN</th>
                        <th class="col-lg-1">Id</th>
                        <th class="col-lg-8">job</th>
                        <th class="col-lg-2">time</th>
                    </tr>
                    </thead>
                    <tbody>
                    <!--The ng-repeat says to copy the DOM inside this <li> once for every element in an array called items.-->
                    <tr ng-repeat="item in items">
                        <!--passed in $index, which contains the iteration number of the ng-repeat-->
                        <td class="col-lg-1">{{$index + 1}}</td>
                        <td class="col-lg-1">
                            <a ng-href="/api/spider/job/job?id={{item.id}}">{{item.id}}</a>
                        </td>
                        <td class="col-lg-8">{{item.job}}</td>
                        <td class="col-lg-2">{{item.time}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!--<script src="http://code.jquery.com/jquery-latest.js" type="text/javascript" ></script>-->
<script src="/lib/jquery/jquery-2.1.4.min.js" type="text/javascript" ></script>
<script src="/lib/angular/angular-1.4.4.js" type="text/javascript" ></script>
<div id="footer"></div>
<script src="/js/controllers.js" type="text/javascript" ></script>
<script>
    $(function(){
        $("#header").load('/template/header.html');
        $("#footer").load('/template/footer.html');
        $("#nav").load('/template/nav.html');
    });
</script>
</body>
</html>
